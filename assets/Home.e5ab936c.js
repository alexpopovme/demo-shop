import{g as M,a as T}from"./api.ed038255.js";import{d as _,c as g,o as c,a as d,b as i,t as N,n as w,u,s as k,r as v,w as j,e as F,f as z,g as h,h as b,i as K,v as U,F as S,j as O,T as q,k as J,l as y,m as P,p as D,q as I,x as W,y as G,z as Q,A as V,B as X,C as Y}from"./index.766bb13e.js";import{d as Z,b as E,a as $,u as R,_ as A,w as B,i as L,c as ee,e as te}from"./ProductInfo.vue_vue_type_style_index_0_lang.4ae52ef4.js";const ae={class:"category-item__img-wrapper"},se=["src","alt"],ne={class:"category-item__text"},oe=_({__name:"CategoryItem",props:{category:null,index:null},setup(a){const e=a,s=()=>{k.setActiveCatIndex(e.index)},t=g(()=>e.index===k.getActiveCatIndex());return(l,n)=>(c(),d("div",{class:w(["category-item",{"category-item_active":u(t)}]),onClick:s},[i("div",ae,[i("img",{class:"category-item__img",src:a.category.thumbnail.url,alt:a.category.name},null,8,se)]),i("span",ne,N(a.category.name),1)],2))}});const re={class:"cat-nav"},ce={key:0,class:"cat-nav__loader"},le={key:1,class:"cat-nav__items-wrapper"},ie=_({__name:"CategoriesNav",props:{categoriesData:null},setup(a){const e=a;J(o=>({"4f230874":t.value}));const s=g(()=>k.getCategoriesVisibility()),t=v("260px"),l=()=>{const o=document.body.clientWidth;if(!e.categoriesData||o<=520)return;const p=260,m=e.categoriesData.items.length,r=Math.floor(o/p);if(m/r<=1){t.value=`${p}px`;return}const f=Math.ceil(m/2),C=o/f;t.value=`${C<=260?260:C}px`},n=Z(l,300);return j(()=>{e.categoriesData&&l()}),F(()=>{window.addEventListener("resize",n)}),z(()=>{window.removeEventListener("resize",n)}),(o,p)=>(c(),h(q,{name:"slide-fade"},{default:b(()=>[K(i("nav",re,[a.categoriesData?(c(),d("div",le,[(c(!0),d(S,null,O(a.categoriesData.items,(m,r)=>(c(),d("div",{class:"cat-nav__item-wrapper",key:m.id},[y(oe,{category:m,index:r},null,8,["category","index"])]))),128))])):(c(),d("span",ce," Loading categories ... "))],512),[[U,u(s)]])]),_:1}))}});const x=a=>a,H=Symbol("rowContextKey"),ue=E({header:{type:String,default:""},bodyStyle:{type:$([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),de=_({name:"ElCard"}),_e=_({...de,props:ue,setup(a){const e=R("card");return(s,t)=>(c(),d("div",{class:w([u(e).b(),u(e).is(`${s.shadow}-shadow`)])},[s.$slots.header||s.header?(c(),d("div",{key:0,class:w(u(e).e("header"))},[P(s.$slots,"header",{},()=>[W(N(s.header),1)])],2)):D("v-if",!0),i("div",{class:w(u(e).e("body")),style:I(s.bodyStyle)},[P(s.$slots,"default")],6)],2))}});var me=A(_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const pe=B(me),fe=E({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:$([Number,Object]),default:()=>x({})},sm:{type:$([Number,Object]),default:()=>x({})},md:{type:$([Number,Object]),default:()=>x({})},lg:{type:$([Number,Object]),default:()=>x({})},xl:{type:$([Number,Object]),default:()=>x({})}}),ge=_({name:"ElCol"}),ve=_({...ge,props:fe,setup(a){const e=a,{gutter:s}=G(H,{gutter:g(()=>0)}),t=R("col"),l=g(()=>{const o={};return s.value&&(o.paddingLeft=o.paddingRight=`${s.value/2}px`),o}),n=g(()=>{const o=[];return["span","offset","pull","push"].forEach(r=>{const f=e[r];L(f)&&(r==="span"?o.push(t.b(`${e[r]}`)):f>0&&o.push(t.b(`${r}-${e[r]}`)))}),["xs","sm","md","lg","xl"].forEach(r=>{L(e[r])?o.push(t.b(`${r}-${e[r]}`)):Q(e[r])&&Object.entries(e[r]).forEach(([f,C])=>{o.push(f!=="span"?t.b(`${r}-${f}-${C}`):t.b(`${r}-${C}`))})}),s.value&&o.push(t.is("guttered")),o});return(o,p)=>(c(),h(V(o.tag),{class:w([u(t).b(),u(n)]),style:I(u(l))},{default:b(()=>[P(o.$slots,"default")]),_:3},8,["class","style"]))}});var ye=A(ve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const he=B(ye),$e=["start","center","end","space-around","space-between","space-evenly"],we=["top","middle","bottom"],be=E({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:$e,default:"start"},align:{type:String,values:we,default:"top"}}),Ce=_({name:"ElRow"}),xe=_({...Ce,props:be,setup(a){const e=a,s=R("row"),t=g(()=>e.gutter);X(H,{gutter:t});const l=g(()=>{const n={};return e.gutter&&(n.marginRight=n.marginLeft=`-${e.gutter/2}px`),n});return(n,o)=>(c(),h(V(n.tag),{class:w([u(s).b(),u(s).is(`justify-${e.justify}`,n.justify!=="start"),u(s).is(`align-${e.align}`,n.align!=="top")]),style:I(u(l))},{default:b(()=>[P(n.$slots,"default")]),_:3},8,["class","style"]))}});var ke=A(xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const De=B(ke);const Ne={class:"card-main__image-wrap"},Pe=["data-id","src","alt"],Se={class:"card-footer"},je=_({__name:"ProductCard",props:{item:null},setup(a){const e=v(!1);return(s,t)=>{const l=pe;return c(),d("div",{class:"card-wrap",onMouseenter:t[0]||(t[0]=n=>e.value=!0),onMouseleave:t[1]||(t[1]=n=>e.value=!1)},[y(l,{class:"card-main",shadow:"never"},{default:b(()=>[i("div",Ne,[i("img",{class:"card-main__image","data-id":a.item.id,src:a.item.thumbnailUrl,alt:a.item.name},null,8,Pe)]),y(ee,{name:a.item.name,"price-formatted":a.item.defaultDisplayedPriceFormatted},null,8,["name","price-formatted"]),i("footer",Se,[y(te,{id:a.item.id},null,8,["id"])])]),_:1})],32)}}});const Ie=_({__name:"ProductsList",props:{categoryId:null},setup(a){const e=a,s=Y(),t=v();j(()=>{M(e.categoryId).then(n=>{!n||(t.value=n.items)})});const l=n=>{const p=n.target.dataset.id;if(!p||!t.value)return;const m=parseInt(p,10),r=t.value.find(f=>f.id===m);k.setActiveProduct(r),s.push({name:"Product",params:{id:m}})};return(n,o)=>{const p=he,m=De;return c(),h(m,{onClick:l},{default:b(()=>[(c(!0),d(S,null,O(t.value,r=>(c(),h(p,{xs:24,sm:12,lg:8,xl:6,key:r.id,offset:0},{default:b(()=>[y(je,{item:r},null,8,["item"])]),_:2},1024))),128))]),_:1})}}}),Ee={class:"cat-info"},Re={class:"cat-info__wrap"},Ae={class:"cat-info__name"},Be={class:"cat-info__items"},Le={class:"cat-info__items-num"},Oe=i("span",{class:"cat-info__items-text"}," items found ",-1),Ve=_({__name:"ProductsHeader",props:{headerData:null},setup(a){return(e,s)=>(c(),d("header",Ee,[i("div",Re,[i("h1",Ae,N(a.headerData.name),1)]),i("div",Be,[i("span",Le,N(a.headerData.productCount),1),Oe])]))}});const He={key:0,class:"products-view__loader"},Me=_({__name:"ProductsView",props:{activeCategory:null},setup(a){const e=a,s=v(!1),t=v(0),l=v({name:"",productCount:0});return j(()=>{e.activeCategory&&(s.value=!0,l.value={name:e.activeCategory.name,productCount:e.activeCategory.productCount},t.value=e.activeCategory.id)}),(n,o)=>(c(),d(S,null,[s.value?D("",!0):(c(),d("div",He," Loading products ... ")),s.value?(c(),h(Ve,{key:1,headerData:l.value},null,8,["headerData"])):D("",!0),s.value?(c(),h(Ie,{key:2,categoryId:t.value},null,8,["categoryId"])):D("",!0)],64))}}),Te={class:"container"},Ue=_({__name:"Home",setup(a){const e=v(),s=g(()=>e.value?e.value.items[k.getActiveCatIndex()]:null);return T().then(t=>{!t||(e.value=t)}),(t,l)=>(c(),d(S,null,[y(ie,{categoriesData:e.value},null,8,["categoriesData"]),i("section",Te,[y(Me,{activeCategory:u(s)},null,8,["activeCategory"])])],64))}});export{Ue as default};
